<mat-toolbar>
    <mat-toolbar-row>
        <a mat-button routerLink="/" id="homeLink">
            <img src="/cde/public/assets/img/min/nih-cde-logo-simple.png" alt="NLM Logo">
        </a>
        <span class="spacer"></span>
        <button mat-icon-button class="d-md-none" aria-label="Menu" (click)="sidenav.toggle()">
            <mat-icon>menu</mat-icon>
        </button>
        <div class="d-none d-md-block">
            <button mat-button id="menu_cdes_link" routerLink="/cde/search">CDES</button>
            <button mat-button id="menu_forms_link" routerLink="/form/search">FORMS</button>
            <button mat-button id="createEltLink" *ngIf="isOrgCurator(userService.user)" [matMenuTriggerFor]="createMenu">
                CREATE ▼
            </button>
            <mat-menu #createMenu="matMenu">
                <button mat-menu-item id="createCDELink" routerLink="/createCde">CDE</button>
                <button mat-menu-item id="createFormLink" routerLink="/createForm">Form</button>
            </mat-menu>
            <button mat-button [matMenuTriggerFor]="boardMenu" id="boardsMenu">BOARDS ▼</button>
            <mat-menu #boardMenu="matMenu">
                <button mat-menu-item id="menu_qb_link" routerLink="/quickBoard">{{quickBoardMetaInfo()}}</button>
                <button mat-menu-item id="publicBoardsLink" routerLink="/boardList">Public Boards</button>
                <button mat-menu-item *ngIf="userService.user" id="myBoardsLink" routerLink="/myBoards">My Boards</button>
            </mat-menu>
            <button mat-button id="apiLink" routerLink="/api">API</button>
            <button mat-button id="helpLink" [matMenuTriggerFor]="helpMenu">HELP ▼</button>
            <mat-menu #helpMenu="matMenu">
                <button mat-menu-item id="videosLink" routerLink="/videos">VIDEO TUTORIALS</button>
                <button mat-menu-item id="guidesLink" routerLink="/guides">GUIDES</button>
                <button mat-menu-item id="whatsNewLink" routerLink="/whatsNew">NEW FEATURES</button>
                <button mat-menu-item id="takeATourLink" routerLink="/home" [queryParams]="{tour: 'yes'}">TAKE A TOUR
                </button>
                <button mat-menu-item id="resourcesLink" routerLink="/resources">RESOURCES</button>
                <button mat-menu-item id="contactUsLink" routerLink="/contactUs">CONTACT US</button>
                <button mat-menu-item id="reportAProblemLink" feedback (send)="onFeedback($event)"
                        [placeholder]="feedbackDescription">
                    REPORT A PROBLEM
                </button>
            </mat-menu>
            <button mat-button *ngIf="!userService.user" (click)="loginSvc.goToLogin()" id="login_link" routerLink="/login">
                LOGIN
            </button>
            <button mat-button *ngIf="userService.user" id="username_link"
                    [matMenuTriggerFor]="loginMenu">{{userService.user.username | uppercase | cdeTruncateLongName}} ▼
            </button>
            <mat-menu #loginMenu="matMenu">
                <button mat-menu-item routerLink="/settings/profile" id="user_settings">Settings</button>
                <button mat-menu-item routerLink="/classificationManagement" id="user_classifications"
                        *ngIf="isOrgCurator(userService.user)">Classifications
                </button>
                <button mat-menu-item routerLink="/siteAudit" id="user_audit"
                        *ngIf="isOrgAuthority(userService.user)">Audit
                </button>
                <button mat-menu-item (click)="loginSvc.logout()" target="_self" id="user_logout">Log Out
                </button>
            </mat-menu>
            <button mat-icon-button id="notificationLink" (click)="notificationService.drawerToggle(); interruptEvent($event)">
                <mat-icon [matBadge]="notificationService.getBadge()" matBadgeColor="warn" matBadgeSize="small"
                          [matBadgeHidden]="!notificationService.getBadge()"
                          style="margin-right: 0">{{notificationService.getIcon()}}</mat-icon>
            </button>
            <button mat-icon-button routerLink="/searchPreferences" id="searchSettings">
                <mat-icon>settings</mat-icon>
            </button>
        </div>
    </mat-toolbar-row>
</mat-toolbar>
<mat-sidenav-container style="flex-grow: 1">
    <mat-sidenav #sidenav mode="over" position="end">
        <mat-nav-list>
            <a mat-list-item routerLink="/cde/search" (click)="sidenav.close()">CDES</a>
            <a mat-list-item routerLink="/form/search" (click)="sidenav.close()">FORMS</a>
            <a mat-list-item *ngIf="isOrgCurator(userService.user)" [matMenuTriggerFor]="mobileCreateMenu">CREATE ▼</a>
            <mat-menu #mobileCreateMenu="matMenu">
                <button mat-menu-item routerLink="/createCde" (click)="sidenav.close()">CDE</button>
                <button mat-menu-item routerLink="/createForm" (click)="sidenav.close()">Form</button>
            </mat-menu>
            <a mat-list-item [matMenuTriggerFor]="mobileBoardMenu">BOARDS ▼</a>
            <mat-menu #mobileBoardMenu="matMenu">
                <button mat-menu-item routerLink="/quickBoard" (click)="sidenav.close()">{{quickBoardMetaInfo()}}</button>
                <button mat-menu-item routerLink="/boardList" (click)="sidenav.close()">Public Boards</button>
                <button mat-menu-item *ngIf="userService.user" routerLink="/myBoards" (click)="sidenav.close()">My Boards</button>
            </mat-menu>
            <a mat-list-item routerLink="/api" (click)="sidenav.close()">API</a>
            <a mat-list-item [matMenuTriggerFor]="mobileHelpMenu">HELP ▼</a>
            <mat-menu #mobileHelpMenu="matMenu">
                <button mat-menu-item routerLink="/videos" (click)="sidenav.close()">VIDEO TUTORIALS</button>
                <button mat-menu-item routerLink="/guides" (click)="sidenav.close()">GUIDES</button>
                <button mat-menu-item routerLink="/whatsNew" (click)="sidenav.close()">NEW FEATURES</button>
                <button mat-menu-item routerLink="/home" [queryParams]="{tour: 'yes'}" (click)="sidenav.close()">TAKE A TOUR</button>
                <button mat-menu-item routerLink="/resources" (click)="sidenav.close()">RESOURCES</button>
                <button mat-menu-item routerLink="/contactUs" (click)="sidenav.close()">CONTACT US</button>
                <button mat-menu-item feedback (send)="onFeedback($event)" [placeholder]="feedbackDescription" (click)="sidenav.close()">REPORT A PROBLEM</button>
            </mat-menu>
            <a mat-list-item *ngIf="!userService.user" (click)="loginSvc.goToLogin(); sidenav.close()" routerLink="/login">LOGIN</a>
            <a mat-list-item *ngIf="userService.user" [matMenuTriggerFor]="mobileLoginMenu">
                {{userService.user.username | uppercase | cdeTruncateLongName}} ▼
            </a>
            <mat-menu #mobileLoginMenu="matMenu">
                <button mat-menu-item routerLink="/settings/profile" (click)="sidenav.close()">Settings</button>
                <button mat-menu-item *ngIf="isOrgCurator(userService.user)" routerLink="/classificationManagement" (click)="sidenav.close()">Classifications</button>
                <button mat-menu-item *ngIf="isOrgAuthority(userService.user)" routerLink="/siteAudit" (click)="sidenav.close()">Audit</button>
                <button mat-menu-item (click)="loginSvc.logout(); sidenav.close()" target="_self">Log Out</button>
            </mat-menu>
            <a mat-list-item (click)="notificationService.drawerToggle(); interruptEvent($event)">
                <mat-icon [matBadge]="notificationService.getBadge()" matBadgeColor="warn" matBadgeSize="small"
                          [matBadgeHidden]="!notificationService.getBadge()"
                          style="margin-right: 0">{{notificationService.getIcon()}}</mat-icon>
            </a>
            <a mat-list-item routerLink="/searchPreferences"><mat-icon>settings</mat-icon></a>
        </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content class="pb-3">
        <router-outlet></router-outlet>
        <cde-footer></cde-footer>
    </mat-sidenav-content>
</mat-sidenav-container>
