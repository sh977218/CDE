<div class="container-fluid">
    <div class="col-lg-5">
        <h3>Create Form</h3>
        <hr>
        <form #dataElementForm="ngForm">
            <div class="form-group">
                <label for="eltName">Name</label>
                <input type="text" class="form-control" id="eltName" [(ngModel)]="elt.designations[0].designation"
                       name="eltName" required>
            </div>
            <div class="form-group">
                <label for="eltDefinition">Definition</label>
                <input type="text" class="form-control" id="eltDefinition" [(ngModel)]="elt.definitions[0].definition"
                       name="eltDefinition" required>
            </div>
            <div class="form-group ng-scope">
                <label for="formVersion">Version</label>
                <input type="text" class="form-control" id="formVersion" [(ngModel)]="elt.version"
                       name="formVersion" placeholder="Version">
            </div>
            <div class="form-group">
                <label for="eltStewardOrgName">Steward Organization</label>
                <select class="form-control" id="eltStewardOrgName"
                        required [(ngModel)]="elt.stewardOrg.name" name="eltStewardOrgName">
                    <option value="">Select One</option>
                    <option *ngFor="let o of userService.userOrgs" [value]="o">{{o}}</option>
                </select>
            </div>
            <div class="form-group" *ngIf="elt.stewardOrg.name">
                <button id="openClassificationModalBtn" mat-raised-button (click)="openClassifyItemModal()">
                    <mat-icon>folder_open</mat-icon>
                    Classify this {{ elt.elementType | uppercase}}
                </button>
                <div id="classificationBody" class="d-inline-block">
                    <cde-classification-view [elt]="elt" (confirmDelete)="confirmDelete($event);">
                    </cde-classification-view>
                </div>
            </div>
            <div *ngIf="validationErrors(elt) !== null" class="form-group text-danger">
                <mat-icon>warning</mat-icon>
                {{validationErrors(elt)}}
            </div>
            <div class="clearfix"></div>
            <div class="form-group">
                <button (click)="cancelCreateForm()" mat-raised-button color="accent"> Cancel</button>
                <button id="submit" type="submit" (click)="createForm()" mat-raised-button color="primary"
                        [disabled]="!dataElementForm.form.valid || validationErrors(elt)"> Submit
                </button>
            </div>
            <hr/>
        </form>
    </div>
</div>

<cde-classify-item-modal #classifyItemComponent [elt]="elt" [modalTitle]="'Classify this Form'"
                         (onEltSelected)="afterClassified($event)"></cde-classify-item-modal>
