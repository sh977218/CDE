<uib-accordion close-others="false" id="accordionList">
    <div ui-sortable="dragSortableOptions" ng-model="cdes">
        <div uib-accordion-group class='panel-default' ng-repeat="elt in cdes track by elt.tinyId" is-open="elt.isOpen">
            <uib-accordion-heading ng-controller="AccordionCtrl">
                <a href  class="nonLinkAnchor" ng-if="addMode">
                    <i class="fa fa-arrows question-move-handle"></i></a>
                <button ng-if="addMode === 0"
                        ng-click="$event.stopPropagation();$event.preventDefault();searchAdded(elt)"
                        class="btn btn-default btn-xs ml-0">
                    <i class="fa fa-plus"></i> Add</button>
                <span ng-repeat="i in includeInQuickBoard" ng-include="i"></span>
                <a href  class="nonLinkAnchor">
                    <span role="link" ng-bind-html="elt.primaryNameCopy" id="acc_link_{{$index}}"
                          class="hand-cursor"></span></a>
                <a ng-href="/deView?tinyId={{elt.tinyId}}"  class="nonLinkAnchor" ng-if="!openCdeInNewTab"
                   ng-click="view(elt, $event);$dismiss();">
                    <i class="fa fa-eye hand-cursor" title="View Full Detail" role="link"
                       id="eyeLink_{{$index}}"></i></a>
                <small  class="matched-by hidden-xs" ng-if="elt.highlight.matchedBy">Matched by: <strong>
                    <span ng-bind-html="elt.highlight.matchedBy"></span></strong></small>

                <span ng-repeat="i in includeInAccordion" ng-include="i"></span>
            </uib-accordion-heading>
            <div class="row">
                <div class="col-md-4 col-sm-12 col-xs-12">
                    <cde-cde-general-details [elt]="elt"></cde-cde-general-details>
                </div>
                <div class="col-md-4 col-sm-6 col-xs-12">
                    <cde-value-domain-summary [elt]="elt"></cde-value-domain-summary>
                </div>
                <div class="col-md-4 col-sm-6 col-xs-12">
                    <table ng-show="elt.ids.length > 0" class="table cdeTable" summary="Identifiers List">
                        <tr>
                            <th  id="id" class="col-xs-6">Id</th>
                            <th  id="version" class="col-xs-2">Vers.</th>
                            <th  id="source" class="col-xs-4">Src.</th>
                        </tr>
                        <tr ng-repeat="id in elt.ids">
                            <td  ng-bind="id.id" headers="id" class="col-xs-6"></td>
                            <td  ng-bind="id.version" headers="version" class="col-xs-2"></td>
                            <td  ng-bind="id.source" headers="source" class="col-xs-4"></td>
                        </tr>
                    </table>
                    <img ng-repeat="attachment in elt.attachments | filter:{isDefault:true}"
                         alt="Image attached to the CDE"
                         ng-src="/data/{{attachment.fileid}}" class='cdeAttachmentThumbnail'/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <a  ng-if="!openCdeInNewTab" class='btn btn-small btn-default'
                       ng-href="/deView/?tinyId={{elt.tinyId}}" id="openEltInCurrentTab_{{$index}}"
                       ng-click="$dismiss();">
                        <i class="fa fa-eye"></i> View Full Detail</a>
                    <a  ng-if="openCdeInNewTab" target="_blank" class='btn btn-small btn-default'
                       ng-href="/deView/?tinyId={{elt.tinyId}}" id="openCdeInNewTab_{{$index}}">
                        <i class="fa fa-eye"></i> View Full Detail</a>
                    <a  ng-if="ejsPage!='board'" class="btn btn-small btn-default"
                       ng-click="PinModal.openPinModal(elt)" id="pin_{{$index}}">
                        <i class="fa fa-thumb-tack"></i> Attach to Board</a>
                    <a  ng-if="user._id && ejsPage=='board'" class="btn btn-small btn-default"
                       ng-click="unpin(elt)" id="unpin_{{$index}}">
                        <i class="fa fa-thumb-tack fa-rotate-90" title="unPin"></i> Remove from Board</a>
                    <a  ng-if="quickBoard.canAddElt(elt)" class="btn btn-small btn-default"
                       ng-click="quickBoard.add(elt)" id="compare_{{$index}}">
                        <i class="fa fa-plus-square-o"></i> Add to Quick Board</a>
                    <a class="pull-right" ng-href="/sdcview/?cdeId={{elt._id}}" aria-label="SDC View"
                       id="sdcView_{{$index}}">
                        <i class="fa fa-share-square-o"></i> SDC View</a>
                </div>
            </div>
        </div>
    </div>
</uib-accordion>

