<uib-accordion close-others="false" id="accordionList">
    <div ui-sortable="dragSortableOptions" ng-model="cdes">
        <div uib-accordion-group class='panel-default' ng-repeat="elt in cdes track by elt.tinyId" is-open="elt.isOpen">
            <uib-accordion-heading ng-controller="AccordionCtrl">
                <a href tabindex="0" class="nonLinkAnchor" ng-if="addMode">
                    <i class="fa fa-arrows question-move-handle"></i></a>
                <span ng-repeat="i in includeInQuickBoard" ng-include="i"></span>
                <a href tabindex="0" class="nonLinkAnchor">
                    <span role="link" ng-bind-html="elt.primaryNameCopy" id="acc_link_{{$index}}"
                          class="hand-cursor"></span></a>
                <a ng-href="/deview?tinyId={{elt.tinyId}}" tabindex="0" class="nonLinkAnchor" ng-if="!openCdeInNewTab"
                   ng-click="view(elt, $event);$dismiss();">
                    <i class="fa fa-eye hand-cursor" title="View Full Detail" role="link"
                       id="eyeLink_{{$index}}"></i></a>
                <small tabindex="0" class="matched-by hidden-xs" ng-if="elt.highlight.matchedBy">Matched by: <strong>
                    <span ng-bind-html="elt.highlight.matchedBy"></span></strong></small>

                <span ng-repeat="i in includeInAccordion" ng-include="i"></span>
            </uib-accordion-heading>
            <div class="row">
                <div class="col-md-4 col-sm-12 col-xs-12">
                    <div ng-include="'/cde/public/html/cdeList/generalDetails.html'"></div>
                </div>
                <div class="col-md-4 col-sm-6 col-xs-12" ng-if="elt.valueDomain.datatype === 'Value List'">
                    <div ng-include="'/cde/public/html/cdeList/valueDomain.html'"></div>
                </div>
                <div class="col-md-4 col-sm-6 col-xs-12">
                    <div ng-include="'/cde/public/html/cdeList/idTable.html'"/>
                    <img ng-repeat="attachment in elt.attachments | filter:{isDefault:true}"
                         alt="Image attached to the CDE"
                         ng-src="/data/{{attachment.fileid}}" class='cdeAttachmentThumbnail'/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <a tabindex="0" ng-if="!openCdeInNewTab" class='btn btn-small btn-default'
                       ng-href="/#/deview/?tinyId={{elt.tinyId}}" id="openEltInCurrentTab_{{$index}}"
                       ng-click="$dismiss();">
                        <i class="fa fa-eye"></i> View Full Detail</a>
                    <a tabindex="0" ng-if="openCdeInNewTab" target="_blank" class='btn btn-small btn-default'
                       ng-href="/#/deview/?tinyId={{elt.tinyId}}" id="openCdeInNewTab_{{$index}}">
                        <i class="fa fa-eye"></i> View Full Detail</a>
                    <a tabindex="0" ng-if="ejsPage!='board'" class="btn btn-small btn-default"
                       ng-click="PinModal.openPinModal(elt)" id="pin_{{$index}}">
                        <i class="fa fa-thumb-tack"></i> Attach to Board</a>
                    <a tabindex="0" ng-if="user._id && ejsPage=='board'" class="btn btn-small btn-default"
                       ng-click="unpin(elt)" id="unpin_{{$index}}">
                        <i class="fa fa-thumb-tack fa-rotate-90" title="unPin"></i> Remove from Board</a>
                    <a tabindex="0" ng-if="quickBoard.canAddElt(elt)" class="btn btn-small btn-default"
                       ng-click="quickBoard.add(elt)" id="compare_{{$index}}">
                        <i class="fa fa-plus-square-o"></i> Add to Quick Board</a>
                    <a class="pull-right" ng-href="/#/sdcview/?cdeId={{elt._id}}" aria-label="SDC View"
                       id="sdcView_{{$index}}">
                        <i class="fa fa-share-square-o"></i> SDC View</a>
                </div>
            </div>
        </div>
    </div>
</uib-accordion>

