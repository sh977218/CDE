<button *ngIf="elements.length > 1" id="qb_compare" mat-raised-button
        (click)="openCompareSideBySideContent();">
    <mat-icon>search</mat-icon> Side by Side View
</button>

<ng-template #compareSideBySideContent>
    <div mat-dialog-content>
        <div class="row">
            <div class="col-6 leftObj">
                <a id="sourceElement" target="_blank" [href]=leftUrl>
                    <button mat-raised-button><mat-icon>visibility</mat-icon> View Full Detail</button></a>
                <ng-container *ngIf="canMergeDataElement">
                    <cde-merge-data-element [source]="right" [destination]="left"
                                            (doneMerge)="doneMerge($event)"></cde-merge-data-element>
                </ng-container>
                <ng-container *ngIf="canMergeForm">
                    <cde-merge-form [source]="left" [destination]="right"
                                    (doneMerge)="doneMerge($event)"></cde-merge-form>
                </ng-container>
            </div>
            <div class="col-6 rightObj">
                <a id="destinationElement" target="_blank" [href]=rightUrl>
                    <button mat-raised-button><mat-icon>visibility</mat-icon> View Full Detail</button></a>
                <ng-container *ngIf="canMergeDataElement">
                    <cde-merge-data-element [source]="left" [destination]="right"
                                            (doneMerge)="doneMerge($event)"></cde-merge-data-element>
                </ng-container>
                <ng-container *ngIf="canMergeForm">
                    <cde-merge-form [source]="right" [destination]="left"
                                    (doneMerge)="doneMerge($event)"></cde-merge-form>
                </ng-container>
            </div>
        </div>
        <ng-container *ngFor="let option of options">
            <div *ngIf="option.displayAs.display" id="{{option.displayAs.label}}">
                <div class="overflowHidden">
                    <strong>{{option.displayAs.label}}</strong>
                    <div *ngFor="let fullMatch of option.fullMatches" class="row">
                        <div class="col-6 noLeftPadding">
                            <div class="fullMatch">
                                <div *ngFor="let d of option.displayAs.data">
                                    <strong>{{d.label?d.label+":":d.label}}</strong>
                                    <span [innerHTML]=getValue(fullMatch.left,d)></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 noRightPadding">
                            <div class="fullMatch">
                                <div *ngFor="let d of option.displayAs.data">
                                    <strong>{{d.label?d.label+":":d.label}}</strong>
                                    <span [innerHTML]=getValue(fullMatch.right,d)></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngFor="let partialMatch of option.partialMatches" class="row">
                        <div class="col-6 noLeftPadding">
                            <div class="partialMatch">
                                <div *ngFor="let d of option.displayAs.data">
                                    <strong>{{d.label?d.label+":":d.label}}</strong>
                                    <span [innerHTML]=getValue(partialMatch.left,d)></span>
                                    <mat-icon *ngIf="partialMatch.diff.indexOf(d.property)>-1">warning</mat-icon>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 noRightPadding">
                            <div class="partialMatch">
                                <div *ngFor="let d of option.displayAs.data">
                                    <strong>{{d.label?d.label+":":d.label}}</strong>
                                    <span [innerHTML]=getValue(partialMatch.right,d)></span>
                                    <mat-icon *ngIf="partialMatch.diff.indexOf(d.property)>-1">warning</mat-icon>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="option.leftNotMatches.length>0 || option.rightNotMatches.length>0" class="row">
                        <div class="col-6 noLeftPadding">
                            <div *ngFor="let leftNotMatch of option.leftNotMatches" class="notMatch">
                                <div *ngFor="let d of option.displayAs.data">
                                    <strong>{{d.label?d.label+":":d.label}}</strong>
                                    <span [innerHTML]=getValue(leftNotMatch,d)></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 noRightPadding">
                            <div *ngFor="let rightNotMatch of option.rightNotMatches" class="notMatch">
                                <div *ngFor="let d of option.displayAs.data">
                                    <strong>{{d.label?d.label+":":d.label}}</strong>
                                    <span [innerHTML]=getValue(rightNotMatch,d)></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
    <div mat-dialog-actions>
        <button mat-raised-button id="closeCompareSideBySideBtn" [mat-dialog-close]>Close</button>
    </div>
</ng-template>
