<div style="margin: 1rem 0 1rem .5rem; max-width: 250px">
    <h4 *ngIf="(elt.elementType === 'cde' || elt.elementType === 'form') && elt.isDraft; else discussArea">
        Discussion is not available in Drafts. Click the Draft slider above to view the current Published version.
    </h4>

    <ng-template #discussArea>
        <ng-container *ngIf="!userService.user else newCommentTemplate">
            Please <a routerLink="/login">log in</a> to comment.
        </ng-container>
        <ng-template #newCommentTemplate>
            <form #newCommentForm="ngForm" name="newCommentForm" id="newCommentForm" novalidate
                  (ngSubmit)="postNewComment();">
            <textarea [(ngModel)]="newComment.text" class="form-control" id="newCommentTextArea"
                      name="newCommentTextArea" rows="3" placeholder="Join the discussion..." required></textarea>
                <button id="commentBtn" type="submit" class="button" style="margin-right: 0 !important; width: 100%"
                        [disabled]="!newCommentForm.form.valid">Comment
                </button>
            </form>
        </ng-template>
        <cde-comments [eltId]="eltId" [eltName]="eltName" [currentTab]="_currentTab"
                      [canManageComment]="canManageComment"></cde-comments>
    </ng-template>
</div>
