<!DOCTYPE html>
<html lang="en" ng-app="embeddedApp">
<head>
    <meta charset="UTF-8">
    <title>this is a sample</title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-resource.js"></script>

    <script src="/system/shared/regStatusShared.js"></script>
    <script src="/system/public/js/elastic.js"></script>
    <script src="/embedded/public/js/SearchSettings.js"></script>
    <script src="/embedded/public/js/embeddedApp.js"></script>
    <script src="/system/public/js/orgFactories.js"></script>
    <script src="/form/shared/formShared.js"></script>
    <script src="/components/angular-bootstrap/ui-bootstrap-tpls.js"></script>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link href="/cde/public/css/style.css" rel="stylesheet" type="text/css" media="all"/>

    <style>
        body {
            padding: 0px 0px 0px 0px;
        }
        .extraPadding {
            margin-top: 30px!important;
            margin-left: 50px!important;margin-right: 50px!important;
        }
        #pageWrapper{
            height: 97%;
            width: 99%;
            position: absolute;

        }

        #poweredByNihCde {
            /*position: absolute;*/
            bottom: -10px;
            right: 5px;
            background: white;
            padding-left: 5px;
            padding-right: 5px;
        }

        #advSearchForm {
            margin: 0px 0px 5px 0px;
        }


        .gridListView .name {width: auto;}

        #searchResult table{width: auto;}

        #searchCdesFormsHeading{
            margin-top: 90px;
        }

        #selectCdeForms{
            margin-top: 20px;
            margin-bottom: 30px;
        }
        .halfOpacity{opacity: 0.5!important;}
    </style>
</head>
<body>

<div ng-controller="SearchCtrl" id="pageWrapper" class="boxed-div" style="border: none">

    <h2 class="text-center" ng-if="!searchStarted" id="searchCdesFormsHeading">Search CDEs</h2>

    <!--<div id="selectCdeForms"  ng-if="!searchStarted" class="text-center">-->
        <!--<div class="btn-group">-->
            <!--<button id="betaDisabled" class="btn" ng-class="{'btn-primary':searchType === 'cde'}"-->
                    <!--ng-click="searchCDEs()"> CDEs-->
            <!--</button>-->
            <!--<button id="searchForm" class="btn" ng-class="{'btn-primary':searchType === 'form'}"-->
                    <!--ng-click="searchForms()"> Forms-->
            <!--</button>-->
        <!--</div>-->
    <!--</div>-->

    <form name="advSearchForm" id="advSearchForm" novalidate="" class="ng-pristine ng-valid ng-valid-maxlength"
          ng-class="{'extraPadding': !searchStarted }" ng-action="">

        <div class="input-group input-group">
            <select class="form-control" ng-change="selectElement(selectedClassif)" placeholder="Browse"
                    ng-model="selectedClassif" style="width:50%;" ng-switch="searchSettings.classification.length > 0"
                    ng-disabled="aggregations.flatClassifications.length === 0"
                    ng-class="{'halfOpacity':aggregations.flatClassifications.length === 0}"
            >
                <option value="" selected ng-switch-when="true">All Sub Classifications</option>
                <option value="" selected ng-switch-default="true">All Classifications</option>
                <option ng-repeat="classif in aggregations.flatClassifications">{{classif.name}}</option>
            </select>
            <label class="sr-only" for="ftsearch-input">Search Terms</label>
            <input name="q" id="ftsearch-input" style="width: 50%"
                   class="form-control search-query ng-pristine ng-valid ng-empty ng-valid-maxlength ng-touched"
                   type="text" ng-model="searchSettings.q"
                   placeholder="Search..."
            autocomplete="off">
        <div class="input-group-btn">
            <button id="search.submit" ng-click="searchStarted = true;  search()" type="submit" class="btn btn-danger ">
                <i class="fa fa-search"></i> Search</button>
            <button id="search.reset" ng-click="reset()" class="btn">
                <i class="fa fa-search"></i> Reset</button>
        </div>
        </div>
    </form>

    <div> Search Inside
        <ol  class="breadcrumb" class="form-control" style="display: inline-block;">
            <li ng-if="!searchSettings.classification.length>0">All Classifications</li>
            <li ng-repeat="c in searchSettings.classification track by $index"><a href="#" ng-click="crumbSelect($index)">{{c}}</a></li>
            <li ng-if="searchSettings.classification.length>0 && aggregations.flatClassifications.length > 0" >All Sub Classifications</li>
        </ol>
        <span ng-if="searchStarted" class="pull-right" style="padding-top:10px">{{totalItems}} results <small> ({{took / 1000}} secs)</small></span>
    </div>
    <div class="clearfix"></div>


    <div ng-if="searchStarted" >
        <div ng-if="totalItems > 0" id="searchResult" ng-include="'/embedded/public/html/' + searchType + 'GridList.html'"></div>
        <uib-pagination ng-show="totalItems > 0" max-size="10" total-items="totalItems"
                        ng-model="searchSettings.page" next-text="Next" ng-change="search()"></uib-pagination>
    </div>

    <small id="poweredByNihCde">Search provided by the <a target="_blank" href="https://cde.nlm.nih.gov/">NIH CDE repository</a></small>
</div>

</body>
</html>