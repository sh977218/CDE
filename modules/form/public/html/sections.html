<h3>Sections</h3>
<div ng-repeat="section in form.sections" class="row">
    <div class="col-md-1 text-right" ng-show="isAllowed(form)">
        <div class="row">
            <i ng-click="removeSection($index)" class="fa fa-trash-o" id="removeSection-{{$index}}"></i>
            <i ng-click="moveSection($index, -1)" class="fa fa-arrow-up" id="moveSectionUp-{{$index}}" ng-hide="$first" ></i>
            <i ng-click="moveSection($index, 1)" class="fa fa-arrow-down" id="moveSectionDown-{{$index}}" ng-hide="$last" ></i>
        </div>
    </div>   
    <div class="col-md-11">
        <dl class="dl-horizontal">
            <dt>Title: </dt><dd id="dd_section_title_{{$index}}"><div inline-edit id="titleEdit" model="section.title" is-allowed="isAllowed(form)" on-ok="stageElt()"> </div></dd>
            <dt>Cardinality: </dt>
            <dd>
                <dd id="dd_card_{{$index}}">
                    <span ng-show="editCardMode">
                        <select ng-model="section.cardinality" ng-options="key as value for (key, value) in cardinalityOptions" id="section.cardinality"></select>
                        <br/>
                        <button class="fa fa-check" ng-click="editCardMode = false; stageElt()" id="confirmCard"> Confirm</button>
                        <button class="fa fa-times" ng-click="editCardMode = false; section.cardinality = orig"> Discard</button>
                   </span>
                   <span ng-hide="editCardMode">
                       <i ng-show="isAllowed(form)" class="fa fa-edit" ng-click="editCardMode = true; orig = section.cardinality"
                          id="editSection"></i> {{cardinalityOptions[section.cardinality]}}</span>
               </dd>    
        </dl>            
    </div>    
    <hr/>
</div>

<button id="addSection" ng-click="openAddSection()" class="btn btn-default" ng-show="isAllowed(form)"><i class="fa fa-plus"></i> Add section</button>
