<div *ngIf="onInitDone" class="container-fluid" id="classMgt">
    <h1 class="page-header">
        <label for="orgToManage" id="manageClassificationsLabel">Classifications</label>
    </h1>
    <select class="form-control" [(ngModel)]="orgToManage" name="orgToManage" id="orgToManage"
            (change)="onChangeOrg($event.target.value,null)">
        <option *ngFor="let o of userService.userOrgs" [value]="o">{{o}}</option>
    </select>
    <br/>
    <div class="boxed-div">
        <h4 id="org-{{selectedOrg.name}}">{{selectedOrg.name}}
            <a title="Add Child Classification" href>
                <i id="addClassification" class="fa fa-share fa-rotate-180"></i>
            </a>
        </h4>
        <tree-root #treeRoot [nodes]="selectedOrg.classifications" [options]="options">
            <ng-template #treeNodeTemplate let-node="node" let-index="index">
                <a [id]="node.path">{{ node.data.name }}</a>
                <a title="Edit"><i class="fa fa-pencil"></i></a>
                <a title="Remove" (click)="openDeleteClassificationModal(node);"><i class="fa fa-trash-o"></i></a>
                <a title="Reclassify"><i class="fa fa-retweet"></i></a>
                <a title="Add Child Classification"><i class="fa fa-share fa-rotate-180"></i></a>
                <a title="Mesh Mapping"><i class="fa fa-link"></i></a>
            </ng-template>
            <ng-template #treeNodeFullTemplate let-node="node" let-index="index" let-templates="templates">
                <div [class.tree-node-expanded]="true" [ngClass]="{'floatLeft boxed-div':node.level===1}">
                    <div class="node-wrapper" [style.padding-left]="node.getNodePadding()">
                        <tree-node-content [node]="node" [index]="index"
                                           [template]="templates.treeNodeTemplate">
                        </tree-node-content>
                    </div>
                    <tree-node-children [node]="node" [templates]="templates"></tree-node-children>
                </div>
            </ng-template>
        </tree-root>
    </div>
</div>

<ng-template #deleteClassificationContent id="deleteClassificationModal" let-c="close" let-d="dismiss">
    <div class="modal-header" id="deleteClassificationModalHeader">
        <h4 class="modal-title">Remove Classification</h4>
    </div>
    <div class="modal-body" id="deleteClassificationModalBody">
        You are about to delete the following classification:
        <br>
        <br>
        <div class="panel panel-default">
            <div class="panel-body">
                {{selectedClassificationArray}}
            </div>
        </div>

        <br/>This will affect multiple CDEs.
        <br/>Are you sure you want to proceed?
        <br/>
        <br/>Please confirm your decision by typing the name of the classification:
        <input id="removeClassificationUserTyped" ng-model="userTyped.name" (change)="checkUserTypedName()"
               class="form-control" placeholder="">

    </div>
    <div class="modal-footer" id="deleteClassificationModalFooter">
        <button class="btn cancel" (click)="c('cancel')" id="cancelDeleteClassificationBtn"
                name="cancelDeleteClassificationBtn" type="button">Cancel
        </button>
        <button class="btn btn-danger" (click)="c('confirm')" id="confirmDeleteClassificationBtn"
                name="confirmDeleteClassificationBtn" type="button">OK
        </button>
    </div>
</ng-template>
