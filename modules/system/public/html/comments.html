<div ng-controller="CommentsCtrl">
    <br/>
    <div tabindex="0" ng-if="!user._id">Please <a tabindex="0" href="/#/login">log in</a> to comment.</div>
    <div ng-if="user._id">
        <form role="form" name="commentForm" id="commentForm" novalidate>
            <label tabindex="0" class="sr-only" for="commentTextArea">Comments</label>
            <textarea tabindex="0" name="commentTextArea" id="commentTextArea" class="form-control" rows="3"
                      ng-model="comment.content" placeholder="Join the discussion..." required></textarea>
            <input tabindex="0" name="postComment" id="postComment" class="btn btn-primary" type="button"
                   value="Post Comment"
                   ng-click="addComment()" ng-disabled="commentForm.commentTextArea.$invalid"/>
        </form>
    </div>
    <br/>

    <div class="comment" ng-repeat="comment in elt.comments">
        <div class="rootComment">
            <div class="commentBody">
                <div class="commentHeader">
                    <table style="width: 100%;">
                        <tbody>
                        <tr>
                            <td><div><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIQEBUSEhIVEBUVFRUQEBISFQ8PEBUVFRUWFhUVFRUYHSggGBolGxUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OFxAQFy0fHR8tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0rLS0rLS0tLS0tLSstLS0tKy0rLS0tLS0tLf/AABEIAOEA4QMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAEAAECAwUGB//EAEAQAAIBAgQDBAgEAwcEAwAAAAECAAMRBBIhMQVBUQYTYXEiMoGRobHB8BVCUtEHFCMkU2JysuHxM2OSohYXNP/EABoBAQADAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAmEQEBAAICAgEEAgMBAAAAAAAAAQIRAyESMQQTIkFRBWEUMnE0/9oADAMBAAIRAxEAPwALLaQJlziVkQJU2k2aRSnExtAi5lWeWF5U+pgV1ReVFJc0uwmGaobAeZ6SLZJupktuoANG5kBRN+c28bgxT3YacjvB8LlzAE722uF12vMLz463HRj8fLeqooYZjyNuv+008Lw9Qdr+4/SaX8syi49HLowABHgT4GaVGjcZiAw8rMP3nFn82u/D4WP5YOK7NsRmSx522+k5qthnRipFus9NotYZTty8PrAOIcJFTX1vG+vv3k8Pzbv7leb4U19rg0MVU5pq8Q4QyXIFx5HN7pklLH7vPRw5Mcp1Xm58eWF7gWqmsrtaHVKF4I+kuzUuDeUtCXIgtQwB6qcxCeIvmVfKVuuktFHMvlAy3EpIhdZLShxApMiZOPaBG0YrJgR3ECrLFLLRQPQi5jB5TUqG8tpC8C5GlNYmWqJYywB1SMdJdtIMwOnOA1GnmNgLmbuEYU9AQNDy3NtzAcHTFNep5n4yVE7n3sdB5CcPyMvPr8PQ+NjMO77WnBK7ZqjMPAEgn2D6wj+SpnD1Eog5+rEs1rE79NIVgOFB1u5Ivrcmw8o1SimGq3BvmsG3tacGVu9T8PRx1rtg8N48aLFaxzAHKtxlcDoDsV8DOnwOMpsPQJW+trXXzFjtOO7QYB+9LoAynUC17H6cpl0quIpgekc1/R1OVR7NT5TW/HnJNzpj/kfTy1e3qRPkfPT5yNa1tVt4jQTzyn2kq0/+oxY87WBPkJp4XtCrrozIfH0T7RtKT4uePtb/ACcMvTcr077MPDr8Zk4yhSY2qjKf1qLH9jAMbxh0Nyq1V5svoOPMDnGHGKVQWLldPzZbzSTLHuK245dUNxXCPhxmBFSmdnHyI5GYFbEXM6lOKoWNJhdbWdbbjqDsZx/EKPd1Cu45HqDsZ6HByZZTWXt5vyOKY3ePoz4iQ7y4lBMcGbuYSX0huBbSZqnSE4Z4EcYmsAqQ7EPrAsRtAHAkjIoZIwGEkTKs0mDAlmijWigd86XMuSwkiJVUgKpUtHWrAnbWXWJ1gSr1o/D0zMT0F/2gtW5Mvw1fuwRpmY2F/D7ErndYr8c3l20MVX5A7AZr9YTgVzG76Koub7DSYdaqC29wPSPj96Qri1ZkwSKPWqnW36fv5zk8XZ5mxfah6tXJSBKqbDx8v3hf9Rj6RJ63N7bSjgXDlpqDzPtm2iXMpcZPTbG2ztXgjybUfKHPw9GGwPslK0OkLw9a2jbdennInXpNm2LxTs4hBKix3nn/ABCnWpMSMyi+hAAX5T2cgEdRAMZgkYFSoIPK01nJpjeOV5/wniCYmn3dSy1NkqDn/hYcxMfiOHIYhhlYbn8p6TW43wf+Vqhl9RjqOkp4k1wMx1IurdV2Pu5y/V7jK249UPgqykZSfSuBr1/aX8ZoMyhiLFB6VrE2OovaZ1TMjAj0TuNjcciJocNx2YEOLH0rki6sCuw6GU7xvlGnWePjWC5jqZLHJlcgbX0latOyXpwWaEKdIlqSsNHWBazQWvLHlVSAOsmxkVjmBCPmiaMDAWaKKKB6QpgWLqG8tqYgX0g71L7yRPDLm3hjaCD4Z7S6tUEgVKtzMrE1v7Tl6C31M2qZE5vGPlxdRvDT3X+krl6XwFmpqF66nxsQJs8aBZ8Oo2CHy3AnOYGoGKE9AD77mdZSGdabcxce/Wc+V06MO2jhV0A6D7+sKAsRBsPvbyhTCYV1xcdNZegDDbXrGoaiXLSsdPdCarpYfKdGNukscycg4hDE7Q4PvKR67zz6r6dMoTZka6HpeepYmncETzHj2HNGuejXmvHWPLj1tgtjtbMLEGx6DrpJjE8rEkeqQTpz0lePo5jmG/P94PQuPCb6lcu7B+LYvZzzGvnzlI0l1BcyX6G1uctFMS+Ppnl7UAyatLDTlLiWVSzSupGWJ5IpjhYhLQJAqdZALCgkrqJaBVaKPeKB2a0+ccoZeyy3KLQBlQyxcOTCKQEIAgCd3aYHGdKt+qgn6/Azp2Wc72kSxU8yCLyuS2Ptm8LN20Ol9PgfpOz4Y9hlM4rhptUQdTO5oUcus5+R18MaVI63hSVl6/tMKviLb6AQN+KU1BPL9RIC/HeZadFrr1xaD8whFPFK2xnnVfEhjdX5X01062HzhnDuIMjDW4izRLt3wqCJnEyMHiy4v4QTiHF8mnOV2v4tx2vOW7W8GNamWX1h8YA3aKqG8OWomhR42WXXWWm52zy1enAJhnB208dr8wZRj6WXS1ri9p2uIrIxJtYn1hyM5fj6XrLba1pvjluubkwmMU8LpEqTDGw8twlPKgEMRM03jlrMenpKGWaOLoEQTJLIDd1KnWaGTSUVEgBAS9VkSmsvRdI0IgSNRJclOJxGgJ3cUvigdoykmRNzpCysgElRXSFoReVd3rCVXSBTzmTxBjiNGXKF0FtvDymyvrDzhFXCqqnS972nPzZWWO/4uONwy24jB4LLiFHQgj3/ALCd7To30nMUMOxrqxHUH2TqcM+szzu9L4Y+NsB4/hl+Ux6vAUdWRiwvaxGtrdJ2wsYjhVPL6ymOVjS4yztxvDez9Ohmu5qllyjMALW6WMNocJVVBvc3vp08R1nRjADwlVUBTYC0tllb7RjhJ1D8OogKRMLi3DM9Q623I8egnQ4MQLG6VBfnpKT2vY47H9n6uUGmQXDXYFgLjpcwTDcKr06RLn0r7Zhtz1ndVMGdx8JQ+ALb/Ka/U1NMvpS3e3I0KbMBfWZ/Fh/WAtsF+Jnd/wAkqA6TjeIUi2KsOgMceXe1eTDck/a/uTIu9tIZVRhvvzlPcEzsxu5twZ4+OVx/QVqx56yIWENhTEKJllQppyiotppJRkKlGBktT12lopG0Lq0uUto0oQBpjrI1RDXoiU1KWsAK0UK7mKB2wSS7sSdrRxKLId1GJl4MfLCAmWG0qtxlPmOhlbLJYV+XtEy5sdzbr+LnrLX7DV7B7AWtylmHfWPxBfSBkaa6zm/DqvWTRo1IbTeZtpdRcylXl20Gq2EzWqBmNztC7jnMfiXDe9JIcpfcDYyZ2t1Gpgaiht4NxQqXBv5Tn2wdahorMw5XufnrKKeFxFSpmdrcgDcAD6mTpG47PDt6IjVWtK8PooHhaU4mraVSF4hVsDMTA4TNUaoegUeAG/zhXEKpIMrwdwgXrqZpjGdsl3+ianmJMZKEL7uwiVZ2yamnl5Xytqg0BB3o6w007SsrrJVBPQgrIQdpsMsHqU7yQA1EHWOtC0LKWEmV0gYzg3jFbzSOFvrIjCAQM7u4od/LxQOn7uLu5fkjlZCQ2WWAS0JHywhWVgVYa6Q90guSRVsbZ3GQMcz1SjfkNh46TSRpjNSK1qh/xXHuh+HrXnJlNXUduOVym62qLaRO1oNReEDWZ2NZVOJxwQAsbSpON0f1F/LUS1sCjasoboDqIkoU15BbdBaNrST8pfjuHO5t4GQqcQovqrC/SOa1MnlfqRB6/D6L6lQ3st8ZK9mF9LKGK8Y1Rs0jQ4aqercDoST85Ku2USL2p66ZvFDYWEMwiAgAcgBBBS72qFO2pPkJtUaAXRRYTfiw/Lm5uWSWfmqu5kO5tNEU5Fqc6XEB7uMaML7mOacACrS0lC0po1FkUpyRlVqUYCaVWleUVMPAGCyLU4T3VozJAD7qKExQN7LERLcsbLIFWSSCydpICBU6aTO4hWSijVHOVVFyfoPGa5E89/iTxC7Jh1OgGep5nRQfiZCVnDeJHFZ6mTIpNkHM23J8ZPvsje2FdleHf2VF2NswPid7wfiuHKtqLEGzDoZhyY2ZbdeF+xp4PEhhNCjVnI0cQUM06fEOd/ZMrivK6Sm95OrRVhvOeo8VF99fhDk4mOZtI8V8cx/4cg11PtiemAsEPGE2vBsTxIW0Miza+xr1NJn46vaBVOKg6CU4RGxVQIvqjV26D9zJmPbO59bbXAKFwah/NovkP9/lNdaclSphQFAsALAeAlqCdeM1NOHLLyuzhIxSWxjLqqu7lbpCTIkQBe7kGpwsrGywgH3ciacNKSBWACySipTmiySh0kgHuYoZkijY0pILFlkgDICFOIpLRESIAuIqBEZ2NlUFmPQAXM8T4vjjiKz1T+ZibdByHutO77e9o0NI4ei2YsbVGGwANyoPO886IkJdx/D7jI//ADObHU0GPO+pTzvqPdOy4pw0Vqelg4FhfQH/AAt9Dy8tvFqblWDDcEEeyewdmuNriKSljqfQDm18/wDd1Oj9Dsw130OkkymqtjnpydbDEEqwKkGzKdwfGDsJ6BxThgqi+iuNFYg2t+lxzHxHLx5TFYAgn0SMpAdd2W+3mp5MN5z8nFce56dGOW+qxymslY/qsIX3PtkDTmW2mg2XxkHv1hLIZS9IyqdBXNvCH8E7VrhlKd1mF7lw1mJ8iJmcTbIh6nQTFVpph+2PJ+np+F7Z4Z/WzU/MXHwmtheN4Z/VrJ5EgH4zx4GTzma7rLxj29HB1BBHhrJTxzA8TrUdadRk8L3HtB0nX9mu2ZqOKWIsGJsjj0VJ5Bhy85MyUuOnZxRCMZZBGRJj3jEQGvGMeMYQiwlLrL5BhApyxSzLFAf8Vo/rEf8AF6P6x8JyP4Y36YLjVSj65APTn7pj9StPB1fE+1FCgoY3e5sFSxPjvMLj3a9KuGdKQdXYZbMNbE6kEGw0vOUx+LWoRlFgOu5gVRvvaW8qnxC1nudZVFVOsiDLxnTzT7P8WOFq5iM9NxkrpuGXrbqN5mxS0ukPbuH45TTVs/eUmA7ute+W+yVfkHPkbGPxHBFvSByuvqta++6sPzKeY9o1E807GdpThH7uprRc2N9QhOhJHNTzHtnqNN8i3W707bC7PTHhzdPDcW0uJtL5LSucq4MOTYd3UW2emTdddip5qeTD5wGpSINmFj4zssVglqgMrAMPSp1B6Q1/1IeY+sEOFFS6uoVltmW97X2ZTzU8j7DrMOTg33HRhy66rlDTlVVbCb+J4YUubXXrzHnMvFUbTjyxuN1XVMpY43tJcZT+Ukj2gD95j06k6ftNR/saORYmsw16WI+Vj7ZyKmdOOOo4eTL7h6tJ3gtJ4SDCsqwNKqhsbx4jCa9E7MdqleiEqn00Frn8y8j5zaHH6PWeR4LEGm4O9tfMcxPQ8Jwvvaa1E1VgGB85FysRMZW1+P0esR4/R6zK/A26RvwNukr51Pg1Tx6j1lZ49S6zOPA26RvwNunwk/Up4NH8dpdYx49S6zP/AANukb8DbpHnTwaH49S6xTP/AANunwijzp4Mni3bOo91oqKQ/UbM/wCwnL1arOSzEsTqSSSfOQjwlIGRqGK8iwvJhQdSVy1hrKyJoxODJXkBJCAjO6/h/wBpCpGHqv07hm/0X91vd0nCmONNjY8iNCD1BHOTLqple8KCpLUwNTd6VwqsebKdkf4Hn1lwK1QGUkFSQDa1RG/MrKfip0PuM5rsX2oTFoKVX0K6ix5LUt+ZejeHu5CdNVw9znQhalrXN8rgbJUA3HQ7jlppOje1p/R13swAY7Wvlbrl9n5TrbqNZxHaridDCV8hDObCoEBAABJ9Ek8tPOxncUmWopBBFjZ0OjKdxqPeGG+4nj3apTXxVWoWLDNkVja+VPRG3lMOaySbdHBhlnvxPjeMHG4SsGULUp1FrkLouU5UNvKw985YrabHB6Vq2W5tUSpTa3QqSPiomXa4lN7m2PJhcbqoCEUnkEEtVZCsWyDGTUSupITVbmxvPRf4bcUzK+HY+r/Up/5T6w9h+c84aG8F4m2GqpWXUobEbBlOhUxZuIle42itBuE49cTRSsugcXtzBGhB8jC5kuhaNaTjQlG0VpKNCNI2ikooHiEQMjGvNdK7SvHvK8335xs8aRtXVGsqaW1DeQl4rVV5JTHZAZG3/MITEcSMcQCMDi2o1FqKASpuVa+VhzVvA/CexcA44lektQMTTPoh3sXpv/dVjz8Kmx52Os8WvN7sdx/+Sr+mf6FT0cQtgy22D28OfUX30l8MtEesdocQKNBqtyjqMtNhvdtMhB9ZfA7b6ETyvErmG82v4lcTyVKOGRyyaVyNyua4RQ19VtcgHUbXItMSxIFpz/Jv3R7P8frxy67ZWIDU2upsRsR46H4GCUF1m1isJdepmINGkceW5ph87iuOUyEGjfbT5SAFpcj38P8AmIpLOIllFeEQTEGTEVXmjcjIAx2aWUdZ2K7TthRke70jf0Rqyk63XznpvDOJUsSgek2Ycx+YHoRynhmEawmjhcXUosGpOyNtdTa/gRzmeUaY3p7aY08/wPbupTA/mEV1/Uvov7tj8IX/APZOGzW7qtb9Vk+Wa8rqptkdrGgfCuK0cUmei4cc+TA9GB1EMkJKKKKB4ST9+Ua/35SN4iZvpjs5MgzRXkfv4SQ9/v2xhEYxhB7yJMRMjeBIGPICSgSEcyIMlAtZHqgm5YoFGpJIUCygeAAtD+F4tWATMVbbUXHvgGFrd3UDctm8jvOgTh1PMHA/xfWYc1/b1f47C5fdhe/zP6D1FdnKZyLLewsLzP4vhRTYFRYEdSdZsUR/WJ8LQHtEfV9sz48vukdfzOKXgyyvtnUHhAOvvgKmECpOmx4WOSbmA12l1SrBahiRGVMDGbeMI67yyq6kfoIV/MZb+G0DQ/OJzc2kaWl0tANQ3MJFFRylNN7aCWg9ZFTB/BuJPhKneUt9mU3ysOh/eegUe3GE7sM7Mjc6eUlr+zS3jPL3qqB62Xy1MEaoCfRF/E/tK+O0709V/wDn+E/7n/j/ALxp5XZv0/8ArFHhDyXHeI/fviimjNEffvjCKKA0Y/fujxQGP37pWfWjRQJ/fxjj6GKKA4k40UBmnWcP/wCiv+UfKKKc/wAj1Hr/AMT/AL5f8V0PXMzuP7j76xRTPj/3jt+Z/wCfJkyTfWKKddfNoPKHiiiBljrvFFJE1iG8UUA2jtKK+8UUqv8AgLW3EMwXOKKTfSJ7GRRRTJo//9k=" width="32" height="32"
                                          alt="portrait"/></div></td>
                            <td>
                                <div>
                                    <div>
                                        <div>{{comment.username}}</div>
                                        <div>
                                            {{comment.created | date: 'MM/dd/yyyy @ h:mma'}}
                                        </div>

                                    </div>
                                </div>
                            </td>
                            <td>
                                <i class="fa fa-trash-o" title="Remove" id="removeComment-{{$index}}"
                                   ng-show="canRemoveComment(comment)"
                                   ng-click="removeComment(comment._id)" data-type="remove"></i>
                                <i class="fa fa-check-circle-o" title="Resolve" id="resolveComment-{{$index}}"
                                   ng-show="canResolveComment(comment)"
                                   ng-click="updateCommentStatus(comment._id, 'resolved')"></i>
                                <i class="fa fa-undo" title="Reopen" id="reopenComment-{{$index}}"
                                   ng-show="canReopenComment(comment)"
                                   ng-click="updateCommentStatus(comment._id, 'active')"></i>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div id="commentText-{{$index}}" class="commentMessage"
                     ng-class="{strike: comment.status === 'resolved'}">{{comment.text}}
                </div>
            </div>
        </div>
        <div class="reply" ng-repeat="reply in comment.replies" data-type="replyComment">
            <div class="commentHeader">
                <table style="width: 100%;">
                    <tbody>
                    <tr>
                        <td><div><img src="data:image/jpeg;base64,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"  width="32" height="32"
                                      alt="portrait"/></div></td>
                        <td>
                            <div>
                                <div>
                                    <div>{{reply.username}}</div>
                                    <div>
                                        {{reply.created | date: 'MM/dd/yyyy @ h:mma'}}
                                    </div>

                                </div>
                            </div>
                        </td>
                        <td>
                            <i class="fa fa-trash-o" title="Remove" id="removeReply-{{$index}}"
                               ng-show="canRemoveComment(reply)"
                               ng-click="removeComment(reply._id)" data-type="remove"></i>
                            <i class="fa fa-check-circle-o" title="Resolve" id="resolveReply-{{$index}}"
                               ng-show="canResolveComment(reply)"
                               ng-click="updateCommentStatus(reply._id, 'resolved')"
                               data-type="resolve"></i>
                            <i class="fa fa-undo" title="Reopen" id="reopenReply-{{$index}}"
                               ng-show="canReopenComment(reply)"
                               ng-click="updateCommentStatus(reply._id, 'active')"
                               data-type="reopen"></i>

                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div id="replyText-{{$index}}" ng-class="{strike: reply.status === 'resolved'}">{{reply.text}}</div>
        </div>
        <div data-type="reply" class="replyInputDiv" ng-blur="comment.openReply = false">
            <textarea ng-model="comment.tempReply" name="replyTextArea" class="replyInputTextarea" rows="3"
                      placeholder="Reply to this comment" required ng-focus="comment.openReply = true">
                      </textarea>
            <div class="replyInputBtn" ng-show="comment.openReply" style="margin-top: 10px">
                <button ng-click="replyTo(comment._id, comment.tempReply)" style="margin-left: 0"
                        ng-disabled="replyForm.replyTextArea.$invalid" class="btn btn-primary">Reply
                </button>
                <button ng-click="comment.openReply = false" class="btn btn-default">Cancel</button>
            </div>
        </div>
    </div>
</div>
