<div ng-controller="IdsCtrl">
    <div class="row">
        <div class="col-md-11">
            <dl class="dl-horizontal">
                <dt tabindex="0">Source:</dt>
                <dd tabindex="0" id="dd_origin_nlm">NLM</dd>
                <dt tabindex="0">Id:</dt>
                <dd tabindex="0" id="dd_id_nlm">{{elt.tinyId}}</dd>
                <dt tabindex="0">Version:</dt>
                <dd tabindex="0" id="dd_version_nlm">{{elt.version}}</dd>
            </dl>
        </div>
    </div>
    <hr/>
    <div ng-repeat="id in elt.ids">
        <div class="row">
            <div class="col-md-1 text-right" ng-show="canCurate">
                <div class="row">
                <span ng-show="showDelete">Confirm Delete
                    <a class="fa fa-check" ng-click="showDelete = false; removeId($index)"
                       id="confirmRemoveId-{{$index}}" title="OK" href=""></a>
                    <a class="fa fa-times" ng-click="showDelete = false" title="Cancel" href=""></a>
                </span>
                    <a ng-click="showDelete = true" ng-hide="showDelete" class="fa fa-trash-o nonLinkAnchor displayBlock"
                       id="removeId-{{$index}}" title="Remove" href=""></a>
                </div>
            </div>
            <div class="col-md-11">
                <dl class="dl-horizontal">
                    <dt tabindex="0">Source:</dt>
                    <dd tabindex="0" id="dd_id_origin_{{$index}}">{{id.source}}</dd>
                    <dt tabindex="0">Id:</dt>
                    <span ng-switch="id.source">
                        <dd tabindex="0" id="dd_id_id_link_{{$index}}" ng-switch-when="LOINC">
                            <a ng-href="http://s.details.loinc.org/LOINC/{{id.id}}.html?sections=Simple"
                               target="_blank">{{id.id}}</a>
                        </dd>
                        <dd tabindex="0" id="dd_id_id_{{$index}}" ng-switch-default>{{id.id}}</dd>
                    </span>
                    <dt tabindex="0">Version:</dt>
                    <dd tabindex="0" id="dd_id_version_{{$index}}">{{id.version}}</dd>
                </dl>
            </div>
        </div>
        <hr/>
    </div>

    <button ng-show="canCurate" class="btn btn-small btn-default" value="add" ng-click="openNewId()" id="addId">
        <i class="fa fa-plus"> </i> Add Identifier
    </button>

    <script type="text/ng-template" id="newIdModalContent.html">
        <div class="modal-header" id="newIdModalHeader">
            <h4 tabindex="0">Add Identifier</h4>
        </div>
        <form name="form" role="form">
            <div class="modal-body" id="newIdModalBody">
                <div class="form-group">
                    <label tabindex="0" for="source">Source</label>
                    <input tabindex="0" class="form-control" ng-model="newId.source" name="source"
                           Placeholder="Id Source" required/>
                </div>
                <div class="form-group">
                    <label tabindex="0" for="id">Identifier</label>
                    <textarea tabindex="0" class="form-control" ng-model="newId.id" name="id" Placeholder="Identifier"
                              required></textarea>
                </div>
                <div class="form-group">
                    <label tabindex="0" for="version">Version</label>
                    <textarea tabindex="0" class="form-control" ng-model="newId.version" name="version"
                              Placeholder="Version"></textarea>
                </div>
            </div>
            <div class="modal-footer" id="newIdModalFooter">
                <button class="btn cancel" ng-click="cancelCreate()" id="cancelCreate" type="button">Cancel</button>
                <button class="btn btn-warning" ng-click="okCreate()" ng-disabled="isClean() || form.$invalid"
                        id="createId" type="submit">Save
                </button>
            </div>
        </form>
    </script>

</div>