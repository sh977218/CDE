package gov.nih.nlm.cde.test;

import gov.nih.nlm.system.NlmCdeBaseTest;
import io.restassured.RestAssured;
import io.restassured.http.Cookie;
import io.restassured.http.Header;
import io.restassured.response.Response;
import org.openqa.selenium.By;
import org.testng.Assert;
import org.testng.annotations.Test;

import static io.restassured.RestAssured.get;
import static io.restassured.RestAssured.given;

public class MiscTests extends NlmCdeBaseTest {

    @Test
    public void gridView() {
        goToCdeSearch();
        clickElement(By.id("browseOrg-AECC"));
        textPresent("NCI Standard Template");
        clickElement(By.id("list_gridView"));
        textPresent("Pathologic N Stage");
        textPresent("If No, specify reason for ");
        textPresent("AE Ongoing?");
        textPresent("Patient DOB");
        textPresent("pN0");
        textPresent("pN1");
        textPresent("Not Hispanic or Latino");
        textPresent("Hispanic or Latino");
        textPresent("American Indian or Alaska Native");
        textPresent("Female");
        textPresent("3436564");
        textPresent("2182832");
        textPresent("2746311");
        textPresent("2192217");
        textPresent("NHLBI");
        textPresent("SPOREs");
        textPresent("NICHD");

        clickElement(By.id("list_summaryView"));
        textNotPresent("Pathologic N Stage");
        textNotPresent("If No, specify reason for ");
        textNotPresent("AE Ongoing?");
        textNotPresent("Patient DOB");
        textNotPresent("2192217");
        textPresent("Not Hispanic or Latino");
        textPresent("Hispanic or Latino");
    }

    @Test
    public void checkTicketValid() {
        String username = "cdevsacprod";
        String password = "Aa!!!000";
        String tgtUrl = "https://vsac.nlm.nih.gov:443/vsac/ws/Ticket";

        // Test to make sure user isn't logged in
        String notLoggedInResponse = get(baseUrl + "/user/me").asString();
        Assert.assertEquals(notLoggedInResponse, "");

        Header header = new Header("Content-Type", "application/x-www-form-urlencoded");
        Response tpgResponse = RestAssured.given().formParam("username", username).formParam("password", password).header(header).request().post(tgtUrl);
        String tgt = tpgResponse.asString();
        System.out.println("got tgt: " + tgt);

        String ticketUrl = "https://vsac.nlm.nih.gov/vsac/ws/Ticket/" + tgt;
        Response ticketResponse = RestAssured.given().formParam("service", "http://umlsks.nlm.nih.gov").header(header).request().post(ticketUrl);
        String ticket = ticketResponse.asString();
        System.out.println("got ticket: " + ticket);

        String actualResponse = given().queryParam("ticket", ticket).get(baseUrl + "/user/me").asString();
        Assert.assertTrue(actualResponse.contains("_id"), "actualResponse: " + actualResponse);
        Assert.assertTrue(actualResponse.contains(username), "actualResponse: " + actualResponse);
        Assert.assertFalse(actualResponse.contains(password), "actualResponse: " + actualResponse);

    }

    @Test
    public void checkTicketInvalid() {
        // Test to make sure user isn't logged in
        String response = get(baseUrl + "/user/me").asString();
        Assert.assertEquals(response, "");

        // Provide fake invalid ticket and make sure user info is NOT retrieved
        response = get(baseUrl + "/user/me?ticket=invalid").asString();
        Assert.assertEquals(response, "");
    }

//    @Test
    public void checkSchemas() {
        String expectCdeSchema = "{\"title\":\"DataElement\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"cde\"],\"default\":\"cde\"},\"tinyId\":{\"type\":\"string\",\"description\":\"Internal CDE identifier\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}},\"description\":\"Any string used by which CDE is known, addressed or referred to\"},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]},\"description\":\"Description of the CDE\"},\"source\":{\"type\":\"string\",\"description\":\"This field is replaced with sources\"},\"sources\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_sources\",\"type\":\"object\",\"properties\":{\"sourceName\":{\"type\":\"string\"},\"imported\":{\"type\":\"string\",\"description\":\"Date imported from source\",\"format\":\"date-time\"},\"created\":{\"type\":\"string\",\"description\":\"Date created in source\",\"format\":\"date-time\"},\"updated\":{\"type\":\"string\",\"description\":\"Date updated in source\",\"format\":\"date-time\"},\"registrationStatus\":{\"type\":\"string\",\"description\":\"Relative standing of official record status in steward's workflow\"},\"datatype\":{\"type\":\"string\",\"description\":\"May contain the source datatype\"},\"copyright\":{\"title\":\"copyright\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\",\"description\":\"Content of a copyright statement or terms of use\"},\"valueFormat\":{\"type\":\"string\",\"description\":\"If \\\"html\\\", interpret as HTML\"}}}}},\"description\":\"Name of system from which CDE was imported or obtained from\"},\"origin\":{\"type\":\"string\",\"description\":\"Name of system where CDE is derived\"},\"stewardOrg\":{\"title\":\"stewardOrg\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Name of organization or entity responsible for supervising content and administration of CDE\"}}},\"created\":{\"type\":\"string\",\"format\":\"date-time\"},\"updated\":{\"type\":\"string\",\"format\":\"date-time\"},\"imported\":{\"type\":\"string\",\"description\":\"Date last imported from source\",\"format\":\"date-time\"},\"createdBy\":{\"title\":\"createdBy\",\"type\":\"object\",\"properties\":{\"userId\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"username\":{\"type\":\"string\"}}},\"updatedBy\":{\"title\":\"updatedBy\",\"type\":\"object\",\"properties\":{\"userId\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"username\":{\"type\":\"string\"}}},\"version\":{\"type\":\"string\"},\"changeNote\":{\"type\":\"string\",\"description\":\"Description of last modification\"},\"lastMigrationScript\":{\"type\":\"string\",\"description\":\"Internal use only\"},\"registrationState\":{\"title\":\"registrationState\",\"type\":\"object\",\"properties\":{\"registrationStatus\":{\"type\":\"string\",\"enum\":[\"Preferred Standard\",\"Standard\",\"Qualified\",\"Recorded\",\"Candidate\",\"Incomplete\",\"Retired\"]},\"effectiveDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"untilDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"administrativeNote\":{\"type\":\"string\"},\"unresolvedIssue\":{\"type\":\"string\"},\"administrativeStatus\":{\"type\":\"string\",\"description\":\"Relative standing of CDE as it relates to steward's administrative workflow\"},\"replacedBy\":{\"title\":\"replacedBy\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\",\"description\":\"tinyId of replacement CDE\"}}}}},\"classification\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_classification\",\"type\":\"object\",\"properties\":{\"stewardOrg\":{\"title\":\"stewardOrg\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}},\"workingGroup\":{\"type\":\"boolean\"},\"elements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_elements\",\"type\":\"object\",\"properties\":{\"elements\":{\"type\":\"array\",\"items\":{}},\"name\":{\"type\":\"string\"},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}}}},\"description\":\"Organization or categorization by Steward Organization\"},\"referenceDocuments\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_referenceDocuments\",\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"document\":{\"type\":\"string\"},\"referenceDocumentId\":{\"type\":\"string\"},\"text\":{\"type\":\"string\"},\"uri\":{\"type\":\"string\"},\"providerOrg\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"languageCode\":{\"type\":\"string\"},\"source\":{\"type\":\"string\"}}},\"description\":\"Any written, printed or electronic matter used as a source of information. Used to provide information or evidence of authoritative or official record.\"},\"properties\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_properties\",\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"source\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"description\":\"Attribute not otherwise documented by structured CDE record\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}},\"description\":\"Identifier used to establish or indicate what CDE is within a specific context\"},\"attachments\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_attachments\",\"type\":\"object\",\"properties\":{\"fileid\":{\"type\":\"string\"},\"filename\":{\"type\":\"string\"},\"filetype\":{\"type\":\"string\"},\"uploadDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"comment\":{\"type\":\"string\"},\"uploadedBy\":{\"title\":\"uploadedBy\",\"type\":\"object\",\"properties\":{\"userId\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"username\":{\"type\":\"string\"}}},\"filesize\":{\"type\":\"number\"},\"isDefault\":{\"type\":\"boolean\"},\"pendingApproval\":{\"type\":\"boolean\"},\"scanned\":{\"type\":\"boolean\"}}}},\"history\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}},\"archived\":{\"type\":\"boolean\",\"default\":false,\"description\":\"Indication of historical record. True for previous versions.\"},\"property\":{\"title\":\"property\",\"type\":\"object\",\"properties\":{\"concepts\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_concepts\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"origin\":{\"type\":\"string\",\"description\":\"Source of concept\"},\"originId\":{\"type\":\"string\",\"description\":\"Identifier of concept from source\"}}}}}},\"dataElementConcept\":{\"title\":\"dataElementConcept\",\"type\":\"object\",\"properties\":{\"concepts\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_concepts\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"origin\":{\"type\":\"string\",\"description\":\"Source of concept\"},\"originId\":{\"type\":\"string\",\"description\":\"Identifier of concept from source\"}}}},\"conceptualDomain\":{\"title\":\"conceptualDomain\",\"type\":\"object\",\"properties\":{\"vsac\":{\"title\":\"vsac\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}},\"objectClass\":{\"title\":\"objectClass\",\"type\":\"object\",\"properties\":{\"concepts\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_concepts\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"origin\":{\"type\":\"string\",\"description\":\"Source of concept\"},\"originId\":{\"type\":\"string\",\"description\":\"Identifier of concept from source\"}}}}}},\"valueDomain\":{\"title\":\"valueDomain\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"identifiers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_identifiers\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"definition\":{\"type\":\"string\"},\"uom\":{\"type\":\"string\",\"description\":\"Unit of Measure\"},\"vsacOid\":{\"type\":\"string\"},\"datatype\":{\"type\":\"string\",\"description\":\"Expected type of data\"},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\",\"description\":\"To indicate limits on length\"},\"maxLength\":{\"type\":\"number\",\"description\":\"To indicate limits on length\"},\"regex\":{\"type\":\"string\",\"description\":\"To indicate a regular expression that someone may want to match on\"},\"rule\":{\"type\":\"string\",\"description\":\"Any rule may go here\"},\"showAsTextArea\":{\"type\":\"boolean\",\"description\":\"Multi-line\"}}},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeTime\":{\"title\":\"datatypeTime\",\"type\":\"object\",\"properties\":{\"format\":{\"type\":\"string\"}}},\"datatypeValueList\":{\"title\":\"datatypeValueList\",\"type\":\"object\",\"properties\":{\"datatype\":{\"type\":\"string\",\"description\":\"Value list format\"}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"datatype\":{\"type\":\"string\",\"description\":\"Value list format\"}}},\"datatypeExternallyDefined\":{\"title\":\"datatypeExternallyDefined\",\"type\":\"object\",\"properties\":{\"link\":{\"type\":\"string\",\"description\":\"A link to an external source. Typically a URL\"},\"description\":{\"type\":\"string\"},\"descriptionFormat\":{\"type\":\"string\",\"description\":\"if 'html', then parse with HTML\"}}},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}}}},\"dataSets\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_dataSets\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"studyUri\":{\"type\":\"string\"},\"notes\":{\"type\":\"string\"}}},\"description\":\"A list of datasets that use this CDE\"},\"forkOf\":{\"type\":\"string\",\"description\":\"May point to a tinyID if the CDE is a fork\"},\"views\":{\"type\":\"number\",\"default\":0},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"__v\":{\"type\":\"number\"}}}";
        String actualCdeSchema = get(baseUrl + "/schema/cde").asString();
        String expectFormSchema = "{\"title\":\"Form\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"form\"],\"default\":\"form\"},\"tinyId\":{\"type\":\"string\",\"description\":\"Internal Form identifier\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}},\"description\":\"Any string used by which Form is known, addressed or referred to\"},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]},\"description\":\"Description of the Form\"},\"source\":{\"type\":\"string\",\"description\":\"This field is replaced with sources\"},\"sources\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_sources\",\"type\":\"object\",\"properties\":{\"sourceName\":{\"type\":\"string\"},\"imported\":{\"type\":\"string\",\"description\":\"Date imported from source\",\"format\":\"date-time\"},\"created\":{\"type\":\"string\",\"description\":\"Date created in source\",\"format\":\"date-time\"},\"updated\":{\"type\":\"string\",\"description\":\"Date updated in source\",\"format\":\"date-time\"},\"registrationStatus\":{\"type\":\"string\",\"description\":\"Relative standing of official record status in steward's workflow\"},\"datatype\":{\"type\":\"string\",\"description\":\"May contain the source datatype\"},\"copyright\":{\"title\":\"copyright\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\",\"description\":\"Content of a copyright statement or terms of use\"},\"valueFormat\":{\"type\":\"string\",\"description\":\"If \\\"html\\\", interpret as HTML\"}}}}},\"description\":\"Name of system from which Form was imported or obtained from\"},\"origin\":{\"type\":\"string\",\"description\":\"Name of system where Form is derived\"},\"stewardOrg\":{\"title\":\"stewardOrg\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Name of organization or entity responsible for supervising content and administration of Form\"}}},\"created\":{\"type\":\"string\",\"format\":\"date-time\"},\"updated\":{\"type\":\"string\",\"format\":\"date-time\"},\"imported\":{\"type\":\"string\",\"description\":\"Date last imported from source\",\"format\":\"date-time\"},\"createdBy\":{\"title\":\"createdBy\",\"type\":\"object\",\"properties\":{\"userId\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"username\":{\"type\":\"string\"}}},\"updatedBy\":{\"title\":\"updatedBy\",\"type\":\"object\",\"properties\":{\"userId\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"username\":{\"type\":\"string\"}}},\"version\":{\"type\":\"string\"},\"changeNote\":{\"type\":\"string\",\"description\":\"Description of last modification\"},\"lastMigrationScript\":{\"type\":\"string\"},\"registrationState\":{\"title\":\"registrationState\",\"type\":\"object\",\"properties\":{\"registrationStatus\":{\"type\":\"string\",\"enum\":[\"Preferred Standard\",\"Standard\",\"Qualified\",\"Recorded\",\"Candidate\",\"Incomplete\",\"Retired\"]},\"effectiveDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"untilDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"administrativeNote\":{\"type\":\"string\"},\"unresolvedIssue\":{\"type\":\"string\"},\"administrativeStatus\":{\"type\":\"string\",\"description\":\"Relative standing of CDE as it relates to steward's administrative workflow\"},\"replacedBy\":{\"title\":\"replacedBy\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\",\"description\":\"tinyId of replacement CDE\"}}}}},\"classification\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_classification\",\"type\":\"object\",\"properties\":{\"stewardOrg\":{\"title\":\"stewardOrg\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}},\"workingGroup\":{\"type\":\"boolean\"},\"elements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_elements\",\"type\":\"object\",\"properties\":{\"elements\":{\"type\":\"array\",\"items\":{}},\"name\":{\"type\":\"string\"},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}}}},\"description\":\"Organization or categorization by Steward Organization\"},\"referenceDocuments\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_referenceDocuments\",\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"document\":{\"type\":\"string\"},\"referenceDocumentId\":{\"type\":\"string\"},\"text\":{\"type\":\"string\"},\"uri\":{\"type\":\"string\"},\"providerOrg\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"languageCode\":{\"type\":\"string\"},\"source\":{\"type\":\"string\"}}},\"description\":\"Any written, printed or electronic matter used as a source of information. Used to provide information or evidence of authoritative or official record.\"},\"properties\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_properties\",\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"source\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"description\":\"Attribute not otherwise documented by structured Form record\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}},\"description\":\"Identifier used to establish or indicate what Form is within a specific context\"},\"attachments\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_attachments\",\"type\":\"object\",\"properties\":{\"fileid\":{\"type\":\"string\"},\"filename\":{\"type\":\"string\"},\"filetype\":{\"type\":\"string\"},\"uploadDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"comment\":{\"type\":\"string\"},\"uploadedBy\":{\"title\":\"uploadedBy\",\"type\":\"object\",\"properties\":{\"userId\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"username\":{\"type\":\"string\"}}},\"filesize\":{\"type\":\"number\"},\"isDefault\":{\"type\":\"boolean\"},\"pendingApproval\":{\"type\":\"boolean\"},\"scanned\":{\"type\":\"boolean\"}}}},\"history\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}},\"archived\":{\"type\":\"boolean\",\"default\":false,\"description\":\"Indication of historical record. True for previous versions.\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"isCopyrighted\":{\"type\":\"boolean\"},\"noRenderAllowed\":{\"type\":\"boolean\"},\"copyright\":{\"title\":\"copyright\",\"type\":\"object\",\"properties\":{\"authority\":{\"type\":\"string\"},\"text\":{\"type\":\"string\",\"default\":\"\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_formElements\",\"type\":\"object\",\"properties\":{\"elementType\":{\"type\":\"string\",\"enum\":[\"section\",\"question\",\"form\"]},\"instructions\":{\"title\":\"instructions\",\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"string\"},\"valueFormat\":{\"type\":\"string\"}}},\"inForm\":{\"title\":\"inForm\",\"type\":\"object\",\"properties\":{\"form\":{\"title\":\"form\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}}}}}},\"label\":{\"type\":\"string\"},\"mapTo\":{\"type\":\"object\",\"properties\":{\"fhir\":{\"type\":\"object\",\"properties\":{\"resourceType\":{\"type\":\"schemastring\"}},\"title\":\"fhir\"}},\"title\":\"mapTo\"},\"question\":{\"title\":\"question\",\"type\":\"object\",\"properties\":{\"cde\":{\"title\":\"cde\",\"type\":\"object\",\"properties\":{\"tinyId\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"designations\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_designations\",\"type\":\"object\",\"properties\":{\"designation\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}}}},\"definitions\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_definitions\",\"type\":\"object\",\"properties\":{\"definition\":{\"type\":\"string\"},\"definitionFormat\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"sources\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"definition\"]}},\"version\":{\"type\":\"string\"},\"permissibleValues\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_permissibleValues\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"ids\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_ids\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"version\":{\"type\":\"string\"}}}},\"derivationRules\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_derivationRules\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"inputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information operated on by rule\"},\"outputs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Information produced by rule\"},\"ruleType\":{\"type\":\"string\",\"enum\":[\"score\",\"panel\"]},\"formula\":{\"type\":\"string\",\"enum\":[\"sumAll\",\"mean\",\"bmi\"]}}}}}},\"datatype\":{\"type\":\"string\"},\"datatypeNumber\":{\"title\":\"datatypeNumber\",\"type\":\"object\",\"properties\":{\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"precision\":{\"type\":\"number\"}}},\"datatypeText\":{\"title\":\"datatypeText\",\"type\":\"object\",\"properties\":{\"minLength\":{\"type\":\"number\"},\"maxLength\":{\"type\":\"number\"},\"regex\":{\"type\":\"string\"},\"rule\":{\"type\":\"string\"},\"showAsTextArea\":{\"type\":\"boolean\"}}},\"datatypeDate\":{\"title\":\"datatypeDate\",\"type\":\"object\",\"properties\":{\"precision\":{\"type\":\"string\",\"enum\":[\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Second\"]}}},\"datatypeDynamicCodeList\":{\"title\":\"datatypeDynamicCodeList\",\"type\":\"object\",\"properties\":{\"system\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"}}},\"unitsOfMeasure\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}}},\"required\":{\"type\":\"boolean\",\"default\":false},\"invisible\":{\"type\":\"boolean\",\"default\":false},\"editable\":{\"type\":\"boolean\",\"default\":true},\"multiselect\":{\"type\":\"boolean\"},\"answers\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_answers\",\"type\":\"object\",\"properties\":{\"permissibleValue\":{\"type\":\"string\"},\"valueMeaningName\":{\"type\":\"string\"},\"valueMeaningCode\":{\"type\":\"string\"},\"valueMeaningDefinition\":{\"type\":\"string\"},\"codeSystemName\":{\"type\":\"string\"},\"codeSystemVersion\":{\"type\":\"string\"}}}},\"defaultAnswer\":{\"type\":\"string\"}}},\"repeat\":{\"type\":\"string\"},\"repeatsFor\":{\"type\":\"string\"},\"section\":{},\"showIfExpression\":{\"type\":\"string\"},\"skipLogic\":{\"title\":\"skipLogic\",\"type\":\"object\",\"properties\":{\"action\":{\"type\":\"string\",\"enum\":[\"show\",\"enable\"]},\"condition\":{\"type\":\"string\"}}},\"formElements\":{\"type\":\"array\",\"items\":{}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"displayProfiles\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_displayProfiles\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"sectionsAsMatrix\":{\"type\":\"boolean\"},\"displayCopyright\":{\"type\":\"boolean\"},\"displayValues\":{\"type\":\"boolean\"},\"displayInstructions\":{\"type\":\"boolean\"},\"displayNumbering\":{\"type\":\"boolean\"},\"displayType\":{\"type\":\"string\",\"enum\":[\"Dynamic\",\"Follow-up\"],\"default\":\"Dynamic\"},\"metadata\":{\"title\":\"metadata\",\"type\":\"object\",\"properties\":{\"device\":{\"type\":\"boolean\"}}},\"numberOfColumns\":{\"type\":\"number\",\"minimum\":1,\"maximum\":6},\"displayInvisible\":{\"type\":\"boolean\"},\"repeatFormat\":{\"type\":\"string\",\"default\":\"\"},\"answerDropdownLimit\":{\"type\":\"number\",\"minimum\":0},\"unitsOfMeasureAlias\":{\"type\":\"array\",\"items\":{\"title\":\"itemOf_unitsOfMeasureAlias\",\"type\":\"object\",\"properties\":{\"unitOfMeasure\":{\"title\":\"unitOfMeasure\",\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"system\":{\"type\":\"string\"}}},\"alias\":{\"type\":\"string\"},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"}}}},\"fhirProcedureMapping\":{\"title\":\"fhirProcedureMapping\",\"type\":\"object\",\"properties\":{\"statusQuestionID\":{\"type\":\"string\"},\"statusStatic\":{\"type\":\"string\"},\"performedDate\":{\"type\":\"string\"},\"procedureQuestionID\":{\"type\":\"string\"},\"procedureCode\":{\"type\":\"string\"},\"procedureCodeSystem\":{\"type\":\"string\"},\"bodySiteQuestionID\":{\"type\":\"string\"},\"bodySiteCode\":{\"type\":\"string\"},\"bodySiteCodeSystem\":{\"type\":\"string\"},\"usedReferences\":{\"type\":\"string\"},\"usedReferencesMaps\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"complications\":{\"type\":\"string\"}}}}}},\"_id\":{\"type\":\"string\",\"pattern\":\"^[0-9a-fA-F]{24}$\"},\"__v\":{\"type\":\"number\"}}}";
        String actualFormSchema = get(baseUrl + "/schema/form").asString();
        Assert.assertEquals(expectCdeSchema, actualCdeSchema);
        Assert.assertEquals(expectFormSchema, actualFormSchema);
    }

    @Test
    public void whenArticleWrongKey_then400() {
        mustBeLoggedInAs(nlm_username, nlm_password);
        Cookie myCookie = getCurrentCookie();
        given().cookie(myCookie).body("{key:'notWhatsNew'}").post(baseUrl + "/server/article/whatsNew").then().statusCode(400);
    }

    @Test
    public void siteStatus() {
        String response = get(baseUrl + "/status/cde").asString();
        Assert.assertTrue(response.contains("ALL SERVICES UP"));
    }
}
