<script type="text/ng-template" id="valueDomainVsac.html">
    <div ng-show="detailedView">
    <h4>VSAC Value Set</h4>
    <dl class="dl-horizontal" ng-show="vsacMappingExists()">
        <dt>Value Set Name: </dt><dd>{{cde.dataElementConcept.conceptualDomain.vsac.name | placeholdEmpty}}</dd>
        <dt>Value Set ID: </dt><dd>{{cde.dataElementConcept.conceptualDomain.vsac.id | placeholdEmpty}}</dd>
        <dt>Value Set Version: </dt><dd>{{cde.dataElementConcept.conceptualDomain.vsac.version | placeholdEmpty}}</dd>
    </dl>
    <div ng-hide="vsacMappingExists()">No Value Set specified.</div>
    <div ng-controller="SaveCdeCtrl">
        <div>{{vsacError}}</div>
        <div ng-hide="editMode">
            <a class="btn btn-default" ng-show="isAllowed(cde)" ng-click="editMode=true">Update O.I.D</a>
            <a class="btn btn-default" ng-show="isAllowed(cde) && vsacMappingExists()" ng-click="removeVSMapping()" id="removeVSButton">Remove Mapping</a>
        </div> 
        <div ng-show="editMode">
            <input name="vsacId" type="text" ng-model="cde.dataElementConcept.conceptualDomain.vsac.id" placeholder="VSAC O.I.D"/>
            <i id="vsacIdCheck" class="fa fa-check" ng-click="checkVsacId(cde); editMode = false"></i>
            <i class="fa fa-times" ng-click="editMode = false"></i>
        </div>
    </div>
    <hr/>
    <table ng-show="vsacMappingExists()" class="table-bordered table-condensed table-striped">
         <thead>
             <tr>
                 <th>Code Name</th>
                 <th>Code</th>
                 <th>Code System</th>
                 <th id="validation">Match</th>
                 <th ng-show="isAllowed(cde)">Actions</th>
             </tr>
         </thead> 
         <tbody id="vsacTableBody">
             <tr id="vsacValue-{{$index}}" ng-repeat="con in vsacValueSet">
                 <td>{{con.displayName}}</td>
                 <td>{{con.code}}</td>
                 <td>{{con.codeSystemName}}</td>
                 <td headers="validation">
                     <span ng-switch="con.isValid">
                         <i ng-switch-when="true" class="fa fa-check text-success" id="vset-{{$index}}-valid"></i>
                         <i ng-switch-default class="fa fa-exclamation text-warning" id="vset-{{$index}}-warning"></i>
                     </span>
                 </td>
                 <td ng-show="isAllowed(cde)">
                     <i id="addVsacValue-{{$index}}" ng-click="addVsacValue(con)" ng-show="!isVsInPv(con)" class="fa fa fa-plus"></i>
                 </td>
             </tr>
         </tbody>
    </table>
    <a class="btn btn-small btn-default" ng-show="vsacMappingExists() && isAllowed(cde) && !allVsacMatch()" ng-click="addAllVsac()"><i id="addAllVsac" class="fa fa-plus"></i> Import Missing Values</a>
    </div>
</script>